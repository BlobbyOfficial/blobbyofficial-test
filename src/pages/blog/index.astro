---
import DefaultLayout from '../../layouts/DefaultLayout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
---

<DefaultLayout title="Blog" description="Updates, tutorials, devlogs, and thoughts from BlobbyOfficial.">
  <main class="relative min-h-screen bg-gradient-to-b from-black via-gray-950 to-black text-white overflow-hidden">
    <div class="absolute inset-0 pointer-events-none select-none opacity-5">
      <svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg">
        <filter id="noiseFilter">
          <feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch" />
        </filter>
        <rect width="100%" height="100%" filter="url(#noiseFilter)" />
      </svg>
    </div>

    <section class="relative z-10 px-6 py-24 md:py-32 text-center animate-fade-in-up">
      <h1 class="text-5xl sm:text-6xl font-bold bg-gradient-to-r from-cyan-400 via-sky-500 to-blue-600 bg-clip-text text-transparent mb-4">
        üìù Blobby's Blog
      </h1>
      <p class="text-lg text-gray-300 max-w-2xl mx-auto mb-12">
        Devlogs, tech breakdowns, tutorials, and creative ramblings.
      </p>

      <div class="grid gap-10 max-w-4xl mx-auto">
        {posts.map(post => (
          <a href={`/blog/${post.slug}`} class="block text-left p-6 rounded-xl bg-gray-900/70 hover:bg-gray-800 transition shadow-md border border-gray-800">
            <h2 class="text-2xl font-semibold text-white mb-2">{post.data.title}</h2>
            <p class="text-sm text-gray-400 mb-1">{post.data.date}</p>
            <p class="text-gray-300 line-clamp-2">{post.data.description}</p>
          </a>
        ))}
      </div>
    </section>

    <footer class="relative z-10 mt-20 text-sm text-gray-500 text-center pb-6">
      &copy; {new Date().getFullYear()} BlobbyOfficial. All rights reserved.
    </footer>

    <style>
      @keyframes fade-in-up {
        0% {
          opacity: 0;
          transform: translateY(30px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .animate-fade-in-up {
        animation: fade-in-up 0.8s ease-out both;
      }
    </style>
  </main>
</DefaultLayout>
